<%= render 'layouts/error_messages', object: location %>

<%= form_for location do |f| %>

  <%= f.hidden_field :user_id %>

  <div class="form-group">
    <%= f.label :name %>
    <%= f.text_field :name, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :city %>
    <%= f.text_field :city, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :state %>
    <%= f.collection_select :state, states, :last, :first, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :zip_code %>
    <%= f.text_field :zip_code, class: 'form-control' %>
  </div>

  <div class="form-check">
    <%= f.collection_check_boxes :activity_ids, activities, :id, :name %>
  </div>

  <%= f.fields_for :activities, location.activities.build do |i| %>

    <div class="form-group">
      <%= i.label :name, 'What type of activity is it?' %>
      <%= i.text_field :name, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= i.label :occurrence %>
      <%= i.collection_select :occurrence, weekdays, :last, :first, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= i.label :time %>
      <%= i.time_field :time, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= i.label :details %>
      <%= i.text_area :details, class: 'form-control' %>
    </div>

  <% end %>

  <%= f.submit class: 'btn btn-primary' %>
<% end %>

<br>
<%= fa_icon "arrow-left" %> <%= link_to 'Back to locations', locations_path %>
<br><br>
